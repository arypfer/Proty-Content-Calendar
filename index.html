<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Proty - Content Calendar</title>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
      tailwind.config = {
        theme: {
          extend: {
            colors: {
              'brand-primary': '#4A90E2', // A professional, soft blue
              'brand-secondary': '#F5A623', // A warm, inviting orange for accents
              'brand-accent': '#50E3C2', // A gentle teal for success states
              'brand-background': '#F9FAFB', // A very light, neutral gray
              'brand-surface': '#FFFFFF',
              'brand-text-primary': '#1F2937',
              'brand-text-secondary': '#6B7280',
            }
          }
        }
      }
    </script>
  <script type="importmap">
{
  "imports": {
    "react/": "https://aistudiocdn.com/react@^19.1.1/",
    "react": "https://aistudiocdn.com/react@^19.1.1",
    "@google/genai": "https://aistudiocdn.com/@google/genai@^1.21.0",
    "react-dom/": "https://aistudiocdn.com/react-dom@^19.1.1/"
  }
}
</script>
</head>
  <body class="bg-brand-background">
    <div id="root"></div>
    <script type="module">
      async function loadAndRun() {
        try {
          // 1. Fetch the source code of our main app component
          const response = await fetch('./index.tsx');
          if (!response.ok) {
            throw new Error(`HTTP error! status: ${response.status}`);
          }
          const tsxCode = await response.text();

          // 2. Transpile the TSX code using Babel Standalone
          const transformed = Babel.transform(tsxCode, {
            presets: ['react', 'typescript'],
            filename: 'index.tsx' // for better error messages
          });
          
          // 3. Create a new script element to hold the transpiled code
          const script = document.createElement('script');
          script.type = 'module';
          script.textContent = transformed.code;
          
          // 4. Append and execute the script
          document.body.appendChild(script);
        } catch (error) {
          console.error('Failed to load or transpile the application:', error);
          const root = document.getElementById('root');
          if(root) {
             root.innerHTML = `<div style="padding: 2rem; font-family: sans-serif; color: red; background-color: #fff1f1; border: 1px solid red; border-radius: 8px;">
               <h2>Error loading application</h2>
               <pre style="white-space: pre-wrap; word-break: break-all;">${error.message}</pre>
             </div>`;
          }
        }
      }
      loadAndRun();
    </script>
  </body>
</html>